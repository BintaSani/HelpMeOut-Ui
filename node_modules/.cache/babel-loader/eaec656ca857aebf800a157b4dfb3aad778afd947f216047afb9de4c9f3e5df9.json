{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./library.scss';import Library from'../../component/library/library';import{ReactComponent as Logo}from'../../assets/Frame 249.svg';import{useNavigate}from'react-router-dom';import{auth}from'../../component/utils/firebase/firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const Spinner=()=>/*#__PURE__*/_jsx(\"div\",{className:\"spinner-overlay\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-container\"})});const LibraryPage=()=>{const navigate=useNavigate();const[currentUser,setCurrentUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const unsubscribe=auth.onAuthStateChanged(user=>{setCurrentUser((user===null||user===void 0?void 0:user._delegate)||null);setLoading(false);});// Cleanup subscription\nreturn()=>unsubscribe();},[]);const handleClick=()=>{navigate('/');};const renderUserInfo=()=>{if(!currentUser)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:currentUser.photoURL||'',alt:`${currentUser.displayName}'s avatar`,className:\"user-info__avatar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"user-info__username\",children:currentUser.displayName}),/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"user-info__dropdown-icon\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]});};if(loading){return/*#__PURE__*/_jsx(Spinner,{});}if(!currentUser){navigate('/');// Redirect to home if no user is logged in\nreturn null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"media-library-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"help\",children:[/*#__PURE__*/_jsx(Logo,{onClick:handleClick}),renderUserInfo()]}),/*#__PURE__*/_jsx(Library,{})]});};export default LibraryPage;","map":{"version":3,"names":["React","useState","useEffect","Library","ReactComponent","Logo","useNavigate","auth","jsx","_jsx","jsxs","_jsxs","Spinner","className","children","LibraryPage","navigate","currentUser","setCurrentUser","loading","setLoading","unsubscribe","onAuthStateChanged","user","_delegate","handleClick","renderUserInfo","src","photoURL","alt","displayName","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick"],"sources":["C:/Users/Admin/HelpMeOut-Ui/src/pages/library/library.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './library.scss';\r\nimport Library from '../../component/library/library';\r\nimport { ReactComponent as Logo } from '../../assets/Frame 249.svg'; \r\nimport { useNavigate } from 'react-router-dom';\r\nimport { auth} from '../../component/utils/firebase/firebase';\r\n\r\nexport const Spinner = () => (\r\n    <div className=\"spinner-overlay\">\r\n        <div className=\"spinner-container\"></div>\r\n    </div>\r\n);\r\n\r\nconst LibraryPage = () => {\r\n    const navigate = useNavigate();\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged((user) => {\r\n            setCurrentUser(user?._delegate || null);\r\n            setLoading(false);\r\n        });\r\n\r\n        // Cleanup subscription\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const handleClick = () => {\r\n        navigate('/')\r\n    }\r\n\r\n    const renderUserInfo = () => {\r\n        if (!currentUser) return null;\r\n\r\n        return (\r\n            <div className=\"user-info\">\r\n                <img\r\n                    src={currentUser.photoURL || ''}\r\n                    alt={`${currentUser.displayName}'s avatar`}\r\n                    className=\"user-info__avatar\"\r\n                />\r\n                <span className=\"user-info__username\">{currentUser.displayName}</span>\r\n                <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"user-info__dropdown-icon\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                >\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                </svg>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    if (loading) {\r\n        return <Spinner />;\r\n    }\r\n\r\n    if (!currentUser) {\r\n        navigate('/'); // Redirect to home if no user is logged in\r\n        return null;\r\n    }\r\n\r\n    return(\r\n        <div className='media-library-page'>\r\n            <div className='help'>\r\n                <Logo onClick={handleClick}/>\r\n                {renderUserInfo()}\r\n            </div>\r\n            <Library/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default LibraryPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,gBAAgB,CACvB,MAAO,CAAAC,OAAO,KAAM,iCAAiC,CACrD,OAASC,cAAc,GAAI,CAAAC,IAAI,KAAQ,4BAA4B,CACnE,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,IAAI,KAAO,yCAAyC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9D,MAAO,MAAM,CAAAC,OAAO,CAAGA,CAAA,gBACnBH,IAAA,QAAKI,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC5BL,IAAA,QAAKI,SAAS,CAAC,mBAAmB,CAAM,CAAC,CACxC,CACR,CAED,KAAM,CAAAE,WAAW,CAAGA,CAAA,GAAM,CACtB,KAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACW,WAAW,CAAEC,cAAc,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACkB,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAmB,WAAW,CAAGd,IAAI,CAACe,kBAAkB,CAAEC,IAAI,EAAK,CAClDL,cAAc,CAAC,CAAAK,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEC,SAAS,GAAI,IAAI,CAAC,CACvCJ,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CAEF;AACA,MAAO,IAAMC,WAAW,CAAC,CAAC,CAC9B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,WAAW,CAAGA,CAAA,GAAM,CACtBT,QAAQ,CAAC,GAAG,CAAC,CACjB,CAAC,CAED,KAAM,CAAAU,cAAc,CAAGA,CAAA,GAAM,CACzB,GAAI,CAACT,WAAW,CAAE,MAAO,KAAI,CAE7B,mBACIN,KAAA,QAAKE,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBL,IAAA,QACIkB,GAAG,CAAEV,WAAW,CAACW,QAAQ,EAAI,EAAG,CAChCC,GAAG,CAAG,GAAEZ,WAAW,CAACa,WAAY,WAAW,CAC3CjB,SAAS,CAAC,mBAAmB,CAChC,CAAC,cACFJ,IAAA,SAAMI,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAEG,WAAW,CAACa,WAAW,CAAO,CAAC,cACtErB,IAAA,QACIsB,KAAK,CAAC,4BAA4B,CAClClB,SAAS,CAAC,0BAA0B,CACpCmB,IAAI,CAAC,MAAM,CACXC,OAAO,CAAC,WAAW,CACnBC,MAAM,CAAC,cAAc,CAAApB,QAAA,cAErBL,IAAA,SAAM0B,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,gBAAgB,CAAE,CAAC,CACvF,CAAC,EACL,CAAC,CAEd,CAAC,CAED,GAAInB,OAAO,CAAE,CACT,mBAAOV,IAAA,CAACG,OAAO,GAAE,CAAC,CACtB,CAEA,GAAI,CAACK,WAAW,CAAE,CACdD,QAAQ,CAAC,GAAG,CAAC,CAAE;AACf,MAAO,KAAI,CACf,CAEA,mBACIL,KAAA,QAAKE,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eAC/BH,KAAA,QAAKE,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjBL,IAAA,CAACJ,IAAI,EAACkC,OAAO,CAAEd,WAAY,CAAC,CAAC,CAC5BC,cAAc,CAAC,CAAC,EAChB,CAAC,cACNjB,IAAA,CAACN,OAAO,GAAC,CAAC,EACT,CAAC,CAEd,CAAC,CAGD,cAAe,CAAAY,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}