{"ast":null,"code":"import React,{useState,useEffect}from'react';import{ReactComponent as Logo}from'../../assets/Frame 249.svg';import{useNavigate}from'react-router-dom';import{auth}from'../../component/utils/firebase/firebase';import View from'../../component/view/view';import{Spinner}from'../library/library';import'./viewpage.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ViewPage(){const navigate=useNavigate();const[currentUser,setCurrentUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const unsubscribe=auth.onAuthStateChanged(user=>{setCurrentUser((user===null||user===void 0?void 0:user._delegate)||null);setLoading(false);});// Cleanup subscription\nreturn()=>unsubscribe();},[]);const handleClick=()=>{navigate('/');};const renderUserInfo=()=>{if(!currentUser)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:currentUser.photoURL||'',alt:`${currentUser.displayName}'s avatar`,className:\"user-info__avatar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"user-info__username\",children:currentUser.displayName}),/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"user-info__dropdown-icon\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]});};if(loading){return/*#__PURE__*/_jsx(Spinner,{});}if(!currentUser){navigate('/');// Redirect to home if no user is logged in\nreturn null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"view\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"help\",children:[/*#__PURE__*/_jsx(Logo,{onClick:handleClick}),renderUserInfo()]}),/*#__PURE__*/_jsx(View,{})]});}export default ViewPage;","map":{"version":3,"names":["React","useState","useEffect","ReactComponent","Logo","useNavigate","auth","View","Spinner","jsx","_jsx","jsxs","_jsxs","ViewPage","navigate","currentUser","setCurrentUser","loading","setLoading","unsubscribe","onAuthStateChanged","user","_delegate","handleClick","renderUserInfo","className","children","src","photoURL","alt","displayName","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick"],"sources":["C:/Users/Admin/HelpMeOut-Ui/src/pages/view/viewpage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { ReactComponent as Logo } from '../../assets/Frame 249.svg'; \r\nimport { useNavigate } from 'react-router-dom';\r\nimport { auth} from '../../component/utils/firebase/firebase';\r\nimport View from '../../component/view/view';\r\nimport { Spinner } from '../library/library';\r\nimport './viewpage.scss';\r\n\r\nfunction ViewPage() {\r\n    const navigate = useNavigate();\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged((user) => {\r\n            setCurrentUser(user?._delegate || null);\r\n            setLoading(false);\r\n        });\r\n\r\n        // Cleanup subscription\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const handleClick = () => {\r\n        navigate('/')\r\n    }\r\n\r\n    const renderUserInfo = () => {\r\n        if (!currentUser) return null;\r\n\r\n        return (\r\n            <div className=\"user-info\">\r\n                <img\r\n                    src={currentUser.photoURL || ''}\r\n                    alt={`${currentUser.displayName}'s avatar`}\r\n                    className=\"user-info__avatar\"\r\n                />\r\n                <span className=\"user-info__username\">{currentUser.displayName}</span>\r\n                <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"user-info__dropdown-icon\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                >\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                </svg>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    if (loading) {\r\n        return <Spinner />;\r\n    }\r\n\r\n    if (!currentUser) {\r\n        navigate('/'); // Redirect to home if no user is logged in\r\n        return null;\r\n    }\r\n\r\n  return (\r\n    <div className='view'>\r\n        <div className='help'>\r\n            <Logo onClick={handleClick}/>\r\n            {renderUserInfo()}\r\n        </div>\r\n        <View/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ViewPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,cAAc,GAAI,CAAAC,IAAI,KAAQ,4BAA4B,CACnE,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,IAAI,KAAO,yCAAyC,CAC7D,MAAO,CAAAC,IAAI,KAAM,2BAA2B,CAC5C,OAASC,OAAO,KAAQ,oBAAoB,CAC5C,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzB,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAChB,KAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACU,WAAW,CAAEC,cAAc,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAiB,WAAW,CAAGb,IAAI,CAACc,kBAAkB,CAAEC,IAAI,EAAK,CAClDL,cAAc,CAAC,CAAAK,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEC,SAAS,GAAI,IAAI,CAAC,CACvCJ,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CAEF;AACA,MAAO,IAAMC,WAAW,CAAC,CAAC,CAC9B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,WAAW,CAAGA,CAAA,GAAM,CACtBT,QAAQ,CAAC,GAAG,CAAC,CACjB,CAAC,CAED,KAAM,CAAAU,cAAc,CAAGA,CAAA,GAAM,CACzB,GAAI,CAACT,WAAW,CAAE,MAAO,KAAI,CAE7B,mBACIH,KAAA,QAAKa,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBhB,IAAA,QACIiB,GAAG,CAAEZ,WAAW,CAACa,QAAQ,EAAI,EAAG,CAChCC,GAAG,CAAG,GAAEd,WAAW,CAACe,WAAY,WAAW,CAC3CL,SAAS,CAAC,mBAAmB,CAChC,CAAC,cACFf,IAAA,SAAMe,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAEX,WAAW,CAACe,WAAW,CAAO,CAAC,cACtEpB,IAAA,QACIqB,KAAK,CAAC,4BAA4B,CAClCN,SAAS,CAAC,0BAA0B,CACpCO,IAAI,CAAC,MAAM,CACXC,OAAO,CAAC,WAAW,CACnBC,MAAM,CAAC,cAAc,CAAAR,QAAA,cAErBhB,IAAA,SAAMyB,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,gBAAgB,CAAE,CAAC,CACvF,CAAC,EACL,CAAC,CAEd,CAAC,CAED,GAAIrB,OAAO,CAAE,CACT,mBAAOP,IAAA,CAACF,OAAO,GAAE,CAAC,CACtB,CAEA,GAAI,CAACO,WAAW,CAAE,CACdD,QAAQ,CAAC,GAAG,CAAC,CAAE;AACf,MAAO,KAAI,CACf,CAEF,mBACEF,KAAA,QAAKa,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjBd,KAAA,QAAKa,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjBhB,IAAA,CAACN,IAAI,EAACmC,OAAO,CAAEhB,WAAY,CAAC,CAAC,CAC5BC,cAAc,CAAC,CAAC,EAChB,CAAC,cACNd,IAAA,CAACH,IAAI,GAAC,CAAC,EACN,CAAC,CAEV,CAEA,cAAe,CAAAM,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}