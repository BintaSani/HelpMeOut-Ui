{"ast":null,"code":"import React,{useRef,useState}from'react';import{ReactComponent as PlayPause}from'../../assets/play-circle.svg';import{ReactComponent as PausePlay}from'../../assets/pause-circle.svg';import{ReactComponent as Volume}from'../../assets/volume-high.svg';import{ReactComponent as Mute}from'../../assets/volume-mute.svg';import{ReactComponent as Settings}from'../../assets/setting.svg';import'./video.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Video=_ref=>{let{source}=_ref;const videoRef=useRef(null);const[isPlaying,setIsPlaying]=useState(false);const[isMuted,setIsMuted]=useState(false);const[progress,setProgress]=useState(0);const[currentTime,setCurrentTime]=useState(0);const[duration,setDuration]=useState(0);const[error,setError]=useState(null);// const [searchParams] = useSearchParams(window.location.search);\n// const recording = searchParams.get('recording');\n// const transcriptParams = new useSearchParams(window.location.search).get(\"transcript\");\n// const [videoSrc, setVideoSrc] = useState( recording ? recording : '');\nconst togglePlay=()=>{const video=videoRef.current;if(video){if(video.paused||video.ended){video.play().catch(error=>{setError(error);});console.log('playing');}else{video.pause();console.log('paused');}setIsPlaying(!isPlaying);}};//     const handleVolumeChange = (event) => {\n//     // setVolume(Number(event.target.value));\n//     // videoRef.current.volume = event.target.value;\n//         const volumes = Number(event.target.value);\n// // Check to make sure that the volume is between 0 and 1.\n//         if (volumes >= 0 && volumes <= 1) {\n//             setVolume(volumes);\n//             videoRef.current.volume = volumes;\n//         }\n//     };\nconst toggleMute=()=>{videoRef.current.muted=!videoRef.current.muted;setIsMuted(!isMuted);};const handleProgress=()=>{const currentTime=videoRef.current.currentTime;const duration=videoRef.current.duration;const percent=currentTime/duration*100;setProgress(percent);setCurrentTime(currentTime);setDuration(duration);};const handleSeek=event=>{const seekTime=event.nativeEvent.offsetX/event.target.clientWidth*videoRef.current.duration;videoRef.current.currentTime=seekTime;};const formatTime=timeInSeconds=>{const minutes=Math.floor(timeInSeconds/60);const seconds=Math.floor(timeInSeconds%60);return`${minutes}:${seconds<10?'0':''}${seconds}`;};// useEffect(() => {\n//     if(recording) {\n//       setVideoSrc(recording)\n//     }\n//     // fetchTranscript()\n//   }, [recording])\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"video\",children:[/*#__PURE__*/_jsxs(\"video\",{className:\"vid\",ref:videoRef,controls:false,onClick:togglePlay,onTimeUpdate:handleProgress,onError:e=>setError(e),children:[/*#__PURE__*/_jsx(\"source\",{src:source?source:\"/SampleVideo_1280x720_1mb.mp4\"/*src=\"/SampleVideo_1280x720_1mb.mp4\"*/,type:\"video/mp4\"}),/*#__PURE__*/_jsx(\"source\",{src:source?source:\"/SampleVideo_1280x720_1mb.ogg\"/*src=\"./SampleVideo_1280x720_1mb.ogg\"*/,type:\"video/Ogg\"}),/*#__PURE__*/_jsx(\"source\",{src:source?source:\"/SampleVideo_1280x720_1mb.webm\"/*src=\"./SampleVideo_1280x720_1mb.webm\"*/,type:\"video/webM\"}),\"Your browser does not support the video tag.\",error&&console.log(error.message)]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",onClick:handleSeek,children:/*#__PURE__*/_jsx(\"div\",{className:\"progress\",style:{width:`${progress}%`}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"run-time\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[formatTime(currentTime),\" / \",formatTime(duration)||'00:00']})}),/*#__PURE__*/_jsxs(\"div\",{className:\"clicks\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"click\",onClick:togglePlay,children:[/*#__PURE__*/_jsx(\"div\",{className:\"first\",children:isPlaying?/*#__PURE__*/_jsx(PausePlay,{}):/*#__PURE__*/_jsx(PlayPause,{})}),/*#__PURE__*/_jsx(\"p\",{children:\"Play\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"click\",onClick:toggleMute,children:[/*#__PURE__*/_jsx(\"div\",{className:\"second\",children:isMuted>0?/*#__PURE__*/_jsx(Mute,{}):/*#__PURE__*/_jsx(Volume,{})}),/*#__PURE__*/_jsx(\"p\",{children:\"Volume\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"click\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"last\",children:/*#__PURE__*/_jsx(Settings,{})}),/*#__PURE__*/_jsx(\"p\",{children:\"Settings\"})]})]})]})]});};export default Video;","map":{"version":3,"names":["React","useRef","useState","ReactComponent","PlayPause","PausePlay","Volume","Mute","Settings","jsx","_jsx","jsxs","_jsxs","Video","_ref","source","videoRef","isPlaying","setIsPlaying","isMuted","setIsMuted","progress","setProgress","currentTime","setCurrentTime","duration","setDuration","error","setError","togglePlay","video","current","paused","ended","play","catch","console","log","pause","toggleMute","muted","handleProgress","percent","handleSeek","event","seekTime","nativeEvent","offsetX","target","clientWidth","formatTime","timeInSeconds","minutes","Math","floor","seconds","className","children","ref","controls","onClick","onTimeUpdate","onError","e","src","type","message","style","width"],"sources":["C:/Users/Admin/HelpMeOut-Ui/src/component/video/video.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport { ReactComponent as PlayPause } from '../../assets/play-circle.svg';\r\nimport { ReactComponent as PausePlay } from '../../assets/pause-circle.svg';\r\nimport { ReactComponent as Volume } from '../../assets/volume-high.svg';\r\nimport { ReactComponent as Mute } from '../../assets/volume-mute.svg';\r\nimport { ReactComponent as Settings } from '../../assets/setting.svg';\r\nimport './video.scss';\r\n\r\nconst Video = ({source}) => {\r\n    const videoRef = useRef(null);\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [isMuted, setIsMuted] = useState(false);\r\n    const [progress, setProgress] = useState(0);\r\n    const [currentTime, setCurrentTime] = useState(0);\r\n    const [duration, setDuration] = useState(0);\r\n    const [error, setError] = useState(null);\r\n    // const [searchParams] = useSearchParams(window.location.search);\r\n    // const recording = searchParams.get('recording');\r\n    // const transcriptParams = new useSearchParams(window.location.search).get(\"transcript\");\r\n    // const [videoSrc, setVideoSrc] = useState( recording ? recording : '');\r\n\r\n    const togglePlay = () => {\r\n        const video = videoRef.current;\r\n\r\n        if (video) {\r\n        if (video.paused || video.ended) {\r\n            video.play().catch((error) => {\r\n                setError(error);\r\n                \r\n              });\r\n            console.log('playing');\r\n        } else {\r\n            video.pause();\r\n            console.log('paused');\r\n        }\r\n        setIsPlaying(!isPlaying);\r\n         \r\n        }\r\n    };\r\n\r\n//     const handleVolumeChange = (event) => {\r\n//     // setVolume(Number(event.target.value));\r\n//     // videoRef.current.volume = event.target.value;\r\n//         const volumes = Number(event.target.value);\r\n\r\n// // Check to make sure that the volume is between 0 and 1.\r\n//         if (volumes >= 0 && volumes <= 1) {\r\n//             setVolume(volumes);\r\n//             videoRef.current.volume = volumes;\r\n//         }\r\n//     };\r\n    const toggleMute = () => {\r\n        videoRef.current.muted = !videoRef.current.muted;\r\n        setIsMuted(!isMuted);\r\n      };\r\n    \r\n\r\n    const handleProgress = () => {\r\n        const currentTime = videoRef.current.currentTime;\r\n        const duration = videoRef.current.duration;\r\n        const percent = (currentTime / duration) * 100;\r\n       \r\n        setProgress(percent);\r\n        setCurrentTime(currentTime);\r\n        setDuration(duration);\r\n      };\r\n    \r\n    const handleSeek = (event) => {\r\n    const seekTime = (event.nativeEvent.offsetX / event.target.clientWidth) * videoRef.current.duration;\r\n    videoRef.current.currentTime = seekTime;\r\n    };\r\n\r\n    const formatTime = (timeInSeconds) => {\r\n        const minutes = Math.floor(timeInSeconds / 60);\r\n        const seconds = Math.floor(timeInSeconds % 60);\r\n        return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\r\n    };\r\n\r\n    // useEffect(() => {\r\n    //     if(recording) {\r\n    //       setVideoSrc(recording)\r\n    //     }\r\n    //     // fetchTranscript()\r\n    //   }, [recording])\r\n\r\n    return(\r\n        <div className='video'>\r\n            <video className='vid'\r\n                ref={videoRef}\r\n                controls={false} \r\n                onClick={togglePlay}\r\n                onTimeUpdate={handleProgress}\r\n                onError={(e) => setError(e)}\r\n                >\r\n                <source src={source ? source : \"/SampleVideo_1280x720_1mb.mp4\" } /*src=\"/SampleVideo_1280x720_1mb.mp4\"*/ type='video/mp4'/>\r\n                <source src={source ? source : \"/SampleVideo_1280x720_1mb.ogg\" } /*src=\"./SampleVideo_1280x720_1mb.ogg\"*/ type=\"video/Ogg\" />\r\n                <source src={source ? source : \"/SampleVideo_1280x720_1mb.webm\" } /*src=\"./SampleVideo_1280x720_1mb.webm\"*/ type=\"video/webM\" />\r\n                Your browser does not support the video tag.\r\n                {error && console.log(error.message)}\r\n            </video>\r\n            {/* <video src=\"../../assets/VID_20221229_171522.mp4\" width=\"100%\" height=\"100%\" className='vid' controls></video> */}\r\n            <div className=\"progress-bar\" onClick={handleSeek}>\r\n                <div className=\"progress\" style={{ width: `${progress}%` }}></div>\r\n            </div>\r\n            <div className='controls'>\r\n                <div className='run-time'>\r\n                    <h3>{formatTime(currentTime)} / {formatTime(duration) || '00:00'}</h3>\r\n                </div>\r\n                <div className='clicks'>\r\n                    <div className='click' onClick={togglePlay}>\r\n                        <div className='first'>\r\n                            {isPlaying ? <PausePlay /> : <PlayPause />}\r\n                        </div>\r\n                        <p>Play</p>\r\n                    </div>\r\n                    <div className='click' onClick={toggleMute}>\r\n                        <div className='second'>\r\n                                {isMuted > 0 ? <Mute /> : <Volume />}\r\n                         </div>\r\n                        <p>Volume</p>\r\n                    </div>\r\n                    <div className='click'>\r\n                        <div className='last'>\r\n                            <Settings/>\r\n                        </div>\r\n                        <p>Settings</p>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Video;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}